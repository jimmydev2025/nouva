"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[890],{38890:(e,t,a)=>{a.d(t,{A:()=>R});var r=a(74848),n=a(96540),s=a(81363),i=a(94618),c=a(62027),l=a(59753),o=a(42933),d=a(98097),x=a(9003),h=a(26385),m=a(20424),u=a(83004),p=a(18453),g=a(86715),b=a(36182),f=a(94828),w=a(67034),v=a(97395),k=a(44283),j=a(34860),z=a(72641),N=a(59497);let y=e=>{let{isOpen:t,onClose:a}=e,c=(0,n.useRef)(null),{theme:l,setTheme:o}=(0,z.D)(),{logout:d,user:x}=(0,s.m)(),h=(0,g.useRouter)(),{user:m}=(0,i.k)(),[u,p]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=e=>{e.target.closest("[data-user-menu-toggle]")||!c.current||c.current.contains(e.target)||a()};return t&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,a]);let y=async()=>{try{await d(),h.push("/")}catch(e){console.error("Logout failed:",e)}};return(0,r.jsxs)("div",{ref:c,className:"\n        absolute bottom-16 left-0 w-[300px] bg-white dark:bg-zinc-950 rounded-lg shadow-lg overflow-hidden \n        border border-zinc-200 dark:border-zinc-800 origin-bottom-left\n        transition-all duration-150 ease-out\n        ".concat(t?"opacity-100 scale-100 translate-y-0 pointer-events-auto":"opacity-0 scale-95 -translate-y-2 pointer-events-none","\n      "),children:[(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("p",{className:"text-[13px] leading-[16px] font-normal text-zinc-500 dark:text-zinc-400",children:(()=>{var e;return(null==m?void 0:m.email)?m.email.length>20?"".concat(m.email.slice(0,20),"..."):m.email:(null==x?void 0:null===(e=x.wallet)||void 0===e?void 0:e.address)?x.wallet.address.length>20?"".concat(x.wallet.address.slice(0,20),"..."):x.wallet.address:"Unknown User"})()})}),(0,r.jsxs)("div",{className:"px-4 pb-4 flex items-center",children:[(0,r.jsx)("div",{className:"h-9 w-9 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500"}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-zinc-900 dark:text-white",children:(()=>{var e;if(null==m?void 0:m.email){let e=m.email.split("@")[0]||"";return e.length>10?"".concat(e.slice(0,10),"..."):e}return(null==x?void 0:null===(e=x.wallet)||void 0===e?void 0:e.address)?x.wallet.address.slice(0,5):"Unknown"})()}),(0,r.jsx)("p",{className:"text-[14px] leading-[20px] text-zinc-500 dark:text-zinc-400 -mt-1",children:(null==m?void 0:m.isPro)?"Pro":"Free"})]})]}),(0,r.jsxs)("div",{className:"p-1 border-t border-zinc-200 dark:border-zinc-800",children:[(0,r.jsxs)("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center px-3 py-2 text-[14px] leading-[20px] font-normal text-zinc-900 dark:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors duration-150",children:[(0,r.jsx)(b.A,{className:"w-4 h-4 mr-2"}),"Twitter"]}),(0,r.jsxs)("button",{onClick:()=>h.push("/settings"),className:"w-full flex items-center px-3 py-2 text-[14px] leading-[20px] font-normal text-zinc-900 dark:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors duration-150",children:[(0,r.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Settings"]}),(0,r.jsxs)("button",{onClick:y,className:"w-full flex items-center px-3 py-2 text-[14px] leading-[20px] font-normal text-red-600 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors duration-150",children:[(0,r.jsx)(w.A,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),(0,r.jsxs)("div",{className:"px-4 py-3 border-t border-zinc-200 dark:border-zinc-800",children:[(0,r.jsx)("p",{className:"text-[12px] leading-[16px] font-medium text-zinc-500 dark:text-zinc-400 uppercase",children:"Preferences"}),(0,r.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-[14px] leading-[20px] font-normal text-zinc-900 dark:text-white",children:"Theme"}),(0,r.jsxs)("div",{className:"flex gap-1 bg-zinc-100 dark:bg-zinc-800 p-1 rounded-md",children:[(0,r.jsx)("button",{onClick:()=>o("light"),className:"p-1.5 rounded-md transition-colors duration-150 ".concat("light"===l?"bg-white dark:bg-zinc-700":"hover:bg-white/80 dark:hover:bg-zinc-700/80"),children:(0,r.jsx)(v.A,{className:"w-4 h-4 text-zinc-900 dark:text-white"})}),(0,r.jsx)("button",{onClick:()=>o("system"),className:"p-1.5 rounded-md transition-colors duration-150 ".concat("system"===l?"bg-white dark:bg-zinc-700":"hover:bg-white/80 dark:hover:bg-zinc-700/80"),children:(0,r.jsx)(k.A,{className:"w-4 h-4 text-zinc-900 dark:text-white"})}),(0,r.jsx)("button",{onClick:()=>o("dark"),className:"p-1.5 rounded-md transition-colors duration-150 ".concat("dark"===l?"bg-white dark:bg-zinc-700":"hover:bg-white/80 dark:hover:bg-zinc-700/80"),children:(0,r.jsx)(j.A,{className:"w-4 h-4 text-zinc-900 dark:text-white"})})]})]})]}),!(null==m?void 0:m.isPro)&&(0,r.jsx)("div",{className:"p-4 border-t border-zinc-200 dark:border-zinc-800",children:(0,r.jsx)("button",{onClick:()=>p(!0),className:"w-full bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 py-2 px-4 rounded-md hover:bg-zinc-800 dark:hover:bg-zinc-100 transition-colors duration-150 text-[14px] leading-[20px] font-medium",children:"Upgrade Plan"})}),(0,r.jsx)(N.A,{isOpen:u,onClose:()=>p(!1)})]})};var C=a(56773),E=a(92955),S=a(20005);let A=e=>{let{isOpen:t,onClose:a}=e,[s,i]=(0,n.useState)(""),[c,l]=(0,n.useState)(null),[o,d]=(0,n.useState)("input"),x=(0,n.useRef)(null);(0,n.useEffect)(()=>{t&&(d("input"),i(""),l(null),x.current&&x.current.focus())},[t]);let h=async()=>{s.trim()&&(d("loading"),await new Promise(e=>setTimeout(e,1e3)),d("success"),setTimeout(()=>{a()},2e3))};return(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center transition-all duration-200 ".concat(t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 transition-opacity duration-200 ".concat(t?"opacity-100":"opacity-0"),onClick:a}),(0,r.jsx)("div",{className:"relative z-10 w-full max-w-lg mx-4 bg-white dark:bg-zinc-950 rounded-lg shadow-xl border border-zinc-200 dark:border-zinc-800 transition-all duration-200 ".concat(t?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4"),children:(0,r.jsx)("div",{className:"p-6",children:(()=>{switch(o){case"loading":return(0,r.jsxs)("div",{className:"py-8 flex flex-col items-center justify-center",children:[(0,r.jsx)(E.A,{className:"w-8 h-8 text-zinc-900 dark:text-white animate-spin"}),(0,r.jsx)("p",{className:"mt-4 text-zinc-900 dark:text-white text-sm",children:"Sending feedback..."})]});case"success":return(0,r.jsxs)("div",{className:"py-8 flex flex-col items-center justify-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,r.jsx)(S.A,{className:"w-5 h-5 text-white"})}),(0,r.jsx)("p",{className:"mt-4 text-zinc-900 dark:text-white text-sm",children:"Thanks for your feedback!"})]});default:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-white",children:"Leave Feedback"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-zinc-500 dark:text-zinc-400",children:"We'd love to hear what went well or how we can improve the product experience."}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)("textarea",{ref:x,value:s,onChange:e=>i(e.target.value),placeholder:"Your feedback",rows:4,className:"w-full bg-transparent text-zinc-900 dark:text-white placeholder-zinc-500 rounded-lg py-2 px-3 outline-none border border-zinc-200 dark:border-zinc-700 focus:border-zinc-300 dark:focus:border-zinc-600 focus:ring-0 transition-colors duration-200 resize-none"})}),(0,r.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,r.jsx)("div",{className:"flex gap-2",children:[{type:"sad",emoji:"☹️"},{type:"neutral",emoji:"\uD83D\uDE10"},{type:"happy",emoji:"\uD83D\uDE0A"}].map(e=>{let{type:t,emoji:a}=e;return(0,r.jsx)("button",{onClick:()=>l(t),className:"w-8 h-8 flex items-center justify-center rounded border transition-colors duration-150 ".concat(c===t?"border-zinc-900 dark:border-white bg-zinc-100 dark:bg-zinc-800":"border-zinc-200 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600"),children:(0,r.jsx)("span",{className:"text-lg",children:a})},t)})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-zinc-700 dark:text-zinc-300 hover:text-zinc-900 dark:hover:text-white transition-colors",children:"Cancel"}),(0,r.jsx)("button",{onClick:h,disabled:!s.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-zinc-900 dark:bg-white dark:text-zinc-900 rounded-md hover:bg-zinc-800 dark:hover:bg-zinc-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Submit"})]})]})]})}})()})})]})},P=(0,a(59836).v)(e=>({isSidebarOpen:!0,setSidebarOpen:t=>e({isSidebarOpen:t})})),R=e=>{var t;let{children:a}=e,{isSidebarOpen:b,setSidebarOpen:f}=P(),[w,v]=(0,n.useState)(!1),[k,j]=(0,n.useState)(!0),[z,N]=(0,n.useState)(!1),E=(0,g.useRouter)(),{ready:S,authenticated:R,user:F}=(0,s.m)(),{user:T}=(0,i.k)(),{chats:L,deleteChat:O,fetchChats:_,isLoading:U}=(0,C.L)();return(0,n.useEffect)(()=>{S&&R&&_()},[S,R,_]),(0,r.jsxs)("div",{className:"flex h-screen overflow-hidden bg-white dark:bg-zinc-925 transition-colors duration-150",children:[(0,r.jsxs)("div",{className:"".concat(b?"w-64":"w-16"," flex flex-col bg-zinc-50 dark:bg-zinc-950 border-r border-zinc-200 dark:border-zinc-800 transition-all duration-150 ease-in-out relative"),children:[(0,r.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"".concat(b?"w-6 h-6":"w-8 h-8"," rounded-lg overflow-hidden"),children:[(0,r.jsx)("img",{src:"/images/chat-light.jpeg",alt:"v0",className:"w-full h-full object-cover block dark:hidden"}),(0,r.jsx)("img",{src:"/images/chat-dark.jpeg",alt:"v0",className:"w-full h-full object-cover hidden dark:block"})]}),b&&(0,r.jsx)("button",{onClick:()=>f(!b),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors duration-150",children:b?(0,r.jsx)(l.A,{className:"h-5 w-5 text-zinc-900 dark:text-white"}):(0,r.jsx)(o.A,{className:"h-5 w-5 text-zinc-900 dark:text-white"})})]}),(0,r.jsx)("div",{className:"px-3 mb-6",children:(0,r.jsx)("button",{onClick:()=>E.push("/chat"),className:"w-full bg-white dark:bg-zinc-925 hover:bg-zinc-50 dark:hover:bg-zinc-700 text-zinc-900 dark:text-white text-[14px] leading-[20px] font-medium rounded-md p-2 flex items-center justify-center transition-colors duration-150 border border-zinc-200 dark:border-zinc-700",children:b?"New Chat":(0,r.jsx)(d.A,{className:"h-4 w-4",strokeWidth:2.5})})}),(0,r.jsxs)("nav",{className:"flex-1 px-3",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("button",{onClick:()=>E.push("/projects"),className:"w-full flex items-center py-2 px-2 rounded-md text-[14px] leading-[20px] font-normal tracking-wide transition-colors duration-150 ".concat("/projects"===E.pathname?"bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-white":"text-zinc-900 dark:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800"),children:[(0,r.jsx)(x.A,{className:"h-5 w-5 min-w-[20px] stroke-2"}),b&&(0,r.jsx)("span",{className:"ml-3",children:"Projects"})]}),(0,r.jsxs)("button",{onClick:()=>E.push("/activity"),className:"w-full flex items-center py-2 px-2 rounded-md text-[14px] leading-[20px] font-normal tracking-wide transition-colors duration-150 ".concat("/activity"===E.pathname?"bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-white":"text-zinc-900 dark:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800"),children:[(0,r.jsx)(h.A,{className:"h-5 w-5 min-w-[20px] stroke-2"}),b&&(0,r.jsx)("span",{className:"ml-3",children:"Activity"})]}),(0,r.jsxs)("button",{onClick:()=>E.push("/wallet"),className:"w-full flex items-center py-2 px-2 rounded-md text-[14px] leading-[20px] font-normal tracking-wide transition-colors duration-150 ".concat("/wallet"===E.pathname?"bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-white":"text-zinc-900 dark:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800"),children:[(0,r.jsx)(m.A,{className:"h-5 w-5 min-w-[20px] stroke-2"}),b&&(0,r.jsx)("span",{className:"ml-3",children:"My Wallet"})]}),(0,r.jsxs)("button",{onClick:()=>v(!0),className:"w-full flex items-center text-zinc-900 dark:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 py-2 px-2 rounded-md text-[14px] leading-[20px] font-normal tracking-wide transition-colors duration-150",children:[(0,r.jsx)(x.A,{className:"h-5 w-5 min-w-[20px] stroke-2"}),b&&(0,r.jsx)("span",{className:"ml-3",children:"Feedback"})]})]}),b&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e=>{let{title:t,isExpanded:a,onToggle:n,children:s}=e;return(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsxs)("button",{onClick:n,className:"flex items-center justify-between w-full text-[14px] leading-[20px] font-normal text-zinc-500 dark:text-zinc-400 mb-1 hover:text-zinc-600 dark:hover:text-zinc-300",children:[(0,r.jsx)("span",{children:t}),(0,r.jsx)(c.A,{className:"h-5 w-5 transform transition-transform duration-150 ease-in-out ".concat(a?"rotate-0":"-rotate-90")})]}),(0,r.jsx)("div",{className:"overflow-hidden transition-all duration-150 ease-in-out ".concat(a?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:(0,r.jsx)("div",{className:"space-y-1 py-2",children:s})})]})},{title:"Recent Chats",isExpanded:k,onToggle:()=>j(!k),children:(0,r.jsx)("div",{className:"max-h-[calc(100vh-300px)] overflow-y-auto",children:U?(0,r.jsx)("div",{className:"px-2 py-1.5",children:(0,r.jsx)("p",{className:"text-[13px] leading-none text-zinc-500 dark:text-zinc-400 animate-pulse",children:"Updating conversations..."})}):0===L.length?(0,r.jsx)("div",{className:"px-2 py-1.5",children:(0,r.jsx)("p",{className:"text-[13px] leading-none text-zinc-500 dark:text-zinc-400",children:"No conversations found"})}):L.map(e=>(0,r.jsxs)("div",{className:"group flex items-stretch rounded-md transition-colors duration-150 hover:bg-zinc-100 dark:hover:bg-zinc-800",children:[(0,r.jsx)("button",{onClick:()=>E.push("/chat/".concat(e.id)),className:"flex-1 text-left py-1.5 px-2 text-[14px] leading-tight font-normal tracking-wide text-zinc-900 dark:text-white",children:(0,r.jsxs)("div",{className:"flex flex-col max-w-[180px]",children:[(0,r.jsx)("span",{className:"truncate",children:e.name.length>15?"".concat(e.name.substring(0,15),"..."):e.name}),(0,r.jsx)("span",{className:"text-[11px] text-zinc-500 dark:text-zinc-400",children:new Date(e.createdAt).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})}),(0,r.jsx)("div",{className:"flex items-center px-1.5",children:(0,r.jsx)("button",{onClick:async()=>{await O(e.id),E.asPath==="/chat/".concat(e.id)&&E.push("/chat")},className:"text-zinc-400 hover:text-red-500 dark:text-zinc-500 dark:hover:text-red-400 transition-colors duration-150",children:(0,r.jsx)(u.A,{className:"w-3.5 h-3.5"})})})]},e.id))})})})]}),(0,r.jsxs)("div",{className:"mt-auto relative",children:[!b&&(0,r.jsx)("div",{className:"px-3 mb-2",children:(0,r.jsx)("button",{onClick:()=>f(!b),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors duration-150",children:(0,r.jsx)(o.A,{className:"h-5 w-5 text-zinc-900 dark:text-white"})})}),(0,r.jsxs)("button",{"data-user-menu-toggle":!0,onClick:e=>{e.stopPropagation(),N(!z)},className:"w-full p-3 border-t border-zinc-200 dark:border-zinc-800 flex items-center justify-between hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors duration-150",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500"})}),b&&(0,r.jsxs)("div",{className:"ml-3 min-w-0 flex-1",children:[(0,r.jsx)("p",{className:"text-[14px] leading-[20px] text-zinc-900 dark:text-white font-medium tracking-wide truncate",children:(null==T?void 0:T.email)?T.email.length>15?"".concat(T.email.slice(0,15),"..."):T.email:(null==F?void 0:null===(t=F.wallet)||void 0===t?void 0:t.address)?"".concat(F.wallet.address.slice(0,15),"..."):"Unknown User"}),(0,r.jsx)("p",{className:"text-[12px] leading-[16px] font-normal text-zinc-600 dark:text-zinc-400 transition-colors duration-150",children:(null==T?void 0:T.isPro)?"Pro":"Free"})]})]}),b&&(0,r.jsx)(p.A,{className:"h-4 w-4 text-zinc-900 dark:text-white transform transition-all duration-150 ".concat(z?"rotate-[270deg]":"rotate-90")})]}),(0,r.jsx)(y,{isOpen:z,onClose:()=>N(!1)})]})]}),(0,r.jsx)("div",{className:"flex-1 h-screen overflow-y-auto",children:a}),(0,r.jsx)(A,{isOpen:w,onClose:()=>v(!1)})]})}},59497:(e,t,a)=>{a.d(t,{A:()=>x});var r=a(74848),n=a(96540),s=a(20005),i=a(76897),c=a(92955),l=a(57207),o=a(18458),d=a(86715);let x=e=>{let{isOpen:t,onClose:a}=e,[x,h]=(0,n.useState)(!1),[m,u]=(0,n.useState)(null),[p,g]=(0,n.useState)("initial"),{ready:b,wallets:f}=(0,l.k)(),w=(0,d.useRouter)(),v=f[0],k=async()=>{if(!b||!v){u("Wallet not connected");return}h(!0),u(null),g("processing");try{let e=new o.Ng((0,o.Kw)("devnet")),t=new o.ZX;t.add(o.yq.transfer({fromPubkey:new o.J3(v.address),toPubkey:new o.J3("CoftgpG3YBFsE6DRTtXwShWdAngz8KnomNAkqGG8pd2W"),lamports:.5*o.Sr}));let{blockhash:a}=await e.getLatestBlockhash();t.recentBlockhash=a,t.feePayer=new o.J3(v.address),g("processing");let r=await v.sendTransaction(t,e);if(g("confirming"),(await e.confirmTransaction(r)).value.err)throw Error("Transaction failed");g("success");let n=await fetch("/api/upgrade",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transactionSignature:r,walletAddress:v.address})});if(!n.ok){let e=await n.json();throw Error(e.error||"Failed to update subscription status")}w.reload()}catch(e){console.error("Upgrade error:",e),u(e instanceof Error?e.message:"Failed to process upgrade"),g("error")}finally{h(!1)}};return"undefined"==typeof document?null:(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center transition-all duration-200 ".concat(t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),style:{zIndex:9999},children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-zinc-900/20 dark:bg-black/20 backdrop-blur-sm transition-opacity duration-200 ".concat(t?"opacity-100":"opacity-0"),onClick:a}),(0,r.jsx)("div",{className:"relative z-10 w-full max-w-md mx-4 bg-white dark:bg-zinc-950 rounded-xl shadow-xl border border-zinc-200 dark:border-zinc-800 transition-all duration-200 overflow-hidden ".concat(t?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4"),children:"success"===p?(0,r.jsxs)("div",{className:"p-6 text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 mx-auto bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)(s.A,{className:"w-6 h-6 text-green-500"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-zinc-900 dark:text-white mb-2",children:"Welcome to Pro!"}),(0,r.jsx)("p",{className:"text-zinc-500 dark:text-zinc-400 mb-4",children:"Your account has been upgraded successfully."}),(0,r.jsx)("button",{onClick:a,className:"px-4 py-2 bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 rounded-lg hover:bg-zinc-800 dark:hover:bg-zinc-100 transition-colors",children:"Got it"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:a,className:"absolute top-4 right-4 p-1 text-zinc-400 hover:text-zinc-600 dark:text-zinc-500 dark:hover:text-zinc-300 transition-colors",children:(0,r.jsx)(i.A,{className:"w-4 h-4"})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-zinc-900 dark:text-white",children:"Upgrade to Pro"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-zinc-500 dark:text-zinc-400",children:"Unlock premium features and advanced capabilities"}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-900 rounded-lg p-4 border border-zinc-200 dark:border-zinc-800",children:[(0,r.jsxs)("div",{className:"flex items-baseline justify-between mb-3",children:[(0,r.jsx)("span",{className:"text-zinc-900 dark:text-white font-medium",children:"Monthly"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-2xl font-semibold text-zinc-900 dark:text-white",children:"0.5 SOL"}),(0,r.jsx)("span",{className:"text-zinc-500 dark:text-zinc-400 text-sm ml-1",children:"/mo"})]})]}),(0,r.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Funds will be used to cover operational costs such as RPC's, infrastructure, LLM development, and other services."})]})}),(0,r.jsx)("div",{className:"mt-6 space-y-3",children:[{title:"Extra Analysis",description:"Up to 5x more daily tokens to spend"},{title:"Priority Support",description:"Direct access to our support team"},{title:"Custom Alerts",description:"Price movements and security notifications"},{title:"Early Access",description:"Be first to try new features"}].map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsxs)("div",{className:"flex-shrink-0 h-5 w-5 relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-emerald-100 dark:bg-emerald-950 rounded-full"}),(0,r.jsx)(s.A,{className:"absolute inset-0 w-5 h-5 text-emerald-500 p-1"})]}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-zinc-900 dark:text-white",children:e.title}),(0,r.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:e.description})]})]},t))}),m&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-lg",children:m}),(0,r.jsx)("button",{onClick:k,disabled:x,className:"w-full mt-6 py-2 text-sm font-medium text-white bg-zinc-900 dark:bg-white dark:text-zinc-900 rounded-lg hover:bg-zinc-800 dark:hover:bg-zinc-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors relative group overflow-hidden",children:x?(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)(c.A,{className:"w-4 h-4 animate-spin mr-2"}),"processing"===p?"Sending Transaction...":"confirming"===p?"Confirming Payment...":"Processing..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute inset-0 group-hover:translate-x-full transition-transform duration-[400ms] -skew-x-12 bg-gradient-to-r from-transparent via-white/10 dark:via-zinc-100/5 to-transparent"}),"Upgrade Now"]})})]})]})})]})}},56773:(e,t,a)=>{a.d(t,{L:()=>s});var r=a(59836);let n={FREE_USER:{MAX_CONVERSATIONS:5,MAX_MESSAGES_PER_CHAT:15},PRO_USER:{MAX_CONVERSATIONS:20,MAX_MESSAGES_PER_CHAT:30}},s=(0,r.v)((e,t)=>({chats:[],activeChat:null,isLoading:!1,error:null,hasReachedMessageLimit:(e,a)=>{let r=t().chats.find(t=>t.id===e);return!!r&&r.messages.filter(e=>"user"===e.type).length>=(a?n.PRO_USER.MAX_MESSAGES_PER_CHAT:n.FREE_USER.MAX_MESSAGES_PER_CHAT)},hasReachedChatLimit:e=>t().chats.length>=(e?n.PRO_USER.MAX_CONVERSATIONS:n.FREE_USER.MAX_CONVERSATIONS),fetchChats:async()=>{e({isLoading:!0,error:null});try{let t=await fetch("/api/chats");if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to fetch chats")}let a=await t.json();e({chats:a})}catch(t){throw e({error:t instanceof Error?t.message:"Failed to fetch chats"}),t}finally{e({isLoading:!1})}},addChat:async a=>{if(t().hasReachedChatLimit(!1))throw Error("Chat limit reached");e({isLoading:!0,error:null});try{let t=await fetch("/api/chats",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,messages:a.messages.map(e=>{var t;return{content:e.content||"",type:e.type,files:null===(t=e.files)||void 0===t?void 0:t.map(e=>({name:e.name,type:e.type,url:"string"==typeof e?e:e.url||"",size:"string"==typeof e?0:e.size||0}))}})}),credentials:"include"});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to create chat")}let r=await t.json();return e(e=>({chats:[r,...e.chats],activeChat:r.id})),r}catch(t){throw console.error("Failed to create chat:",t),e({error:t instanceof Error?t.message:"Failed to create chat"}),t}finally{e({isLoading:!1})}},setActiveChat:t=>e({activeChat:t}),updateChat:async(t,a)=>{e({isLoading:!0,error:null});try{let r=await fetch("/api/chats/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),credentials:"include"});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to update chat")}let n=await r.json();e(e=>({chats:e.chats.map(e=>e.id===t?{...e,...n}:e)}))}catch(t){throw e({error:t instanceof Error?t.message:"Failed to update chat"}),t}finally{e({isLoading:!1})}},renameChat:async(t,a)=>{e({isLoading:!0,error:null});try{let r=await fetch("/api/chats/".concat(t,"/rename"),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:a})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to rename chat")}e(e=>({chats:e.chats.map(e=>e.id===t?{...e,name:a}:e)}))}catch(t){throw console.error("Failed to rename chat:",t),e({error:t instanceof Error?t.message:"Failed to rename chat"}),t}finally{e({isLoading:!1})}},deleteChat:async t=>{e({isLoading:!0,error:null});try{let a=await fetch("/api/chats/".concat(t),{method:"DELETE",credentials:"include"});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to delete chat")}e(e=>({chats:e.chats.filter(e=>e.id!==t),activeChat:e.activeChat===t?null:e.activeChat}))}catch(t){throw console.error("Failed to delete chat:",t),e({error:t instanceof Error?t.message:"Failed to delete chat"}),t}finally{e({isLoading:!1})}},addMessage:async(a,r)=>{if(t().hasReachedMessageLimit(a,!1))throw Error("Message limit reached for this conversation");e({isLoading:!0,error:null});try{var n;let t=null===(n=r.files)||void 0===n?void 0:n.map(e=>({name:e.name,type:e.type,size:e.size,url:"string"==typeof e?e:e.url||""})),s=await fetch("/api/chats/".concat(a),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:r.content||"",type:r.type,files:t}),credentials:"include"});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to add message: ".concat(s.status))}let i=await s.json();return e(e=>({chats:e.chats.map(e=>e.id===a?{...e,messages:[...e.messages,i]}:e)})),i}catch(t){throw console.error("Failed to add message:",t),e({error:t instanceof Error?t.message:"Failed to add message"}),t}finally{e({isLoading:!1})}}}))},94618:(e,t,a)=>{a.d(t,{k:()=>r});let r=(0,a(59836).v)(e=>({user:null,setUser:t=>e({user:t})}))}}]);